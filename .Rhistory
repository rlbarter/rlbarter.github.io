# scale the variables/columns
scale = T,
# cluster the rows
membership.rows = paste(mtcars$gear, "gears"),
left.label = "variable",
# add mpg as a scatterplot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.cluster.col = c("turquoise4", "plum4", "springgreen4"),
yr.point.size = 4,
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 6
# average the miles per gallon in each gear cluster
library(dplyr)
mpg.per.cluster <- mtcars %>%
group_by(gear) %>%
summarize(mpg.avg = mean(mpg)) %>%
select(mpg.avg) %>%
unlist
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg, -gear),
# scale the variables/columns
scale = T,
# cluster the rows
membership.rows = paste(mtcars$gear, "gears"),
left.label = "variable",
# add mpg as a scatterplot next to the rows
yr = mpg.per.cluster,
yr.axis.name = "miles per gallon",
yr.cluster.col = c("black", "red", "orange"),
yr.point.size = 4,
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 7
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a line plot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "line",
# order the rows by mpg
order.rows = order(mtcars$mpg),
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 8
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a line plot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "line",
# change the line thickness
yr.line.size = 4,
# order the rows by mpg
order.rows = order(mtcars$mpg),
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 9
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a line plot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "line",
# change the line thickness
yr.line.size = 4,
# change the line color
yr.line.col = "springgreen4",
# order the rows by mpg
order.rows = order(mtcars$mpg),
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 10
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# cluster the rows
membership.rows = paste(mtcars$gear, "gears"),
left.label = "variable",
# add mpg as a line plot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "line",
# change the line thickness
yr.line.size = 4,
# change the line color
yr.cluster.col = c("plum4", "paleturquoise4", "salmon3"),
# order the rows by mpg
order.rows = order(mtcars$mpg),
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 11
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a smoothed line plot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "smooth",
# change the line thickness and color
yr.line.size = 4,
yr.line.col = "red4",
# order the rows by mpg
order.rows = order(mtcars$cyl),
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 12
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a smoothed line plot  next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "smooth",
smoothing.method = "lm",
# change the line thickness and color
yr.line.size = 4,
yr.line.col = "plum4",
# order the rows by mpg
order.rows = order(mtcars$cyl),
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 13
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a scatter line plot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "scatterline",
# change the line color
yr.line.col = "tomato3",
yr.obs.col = rep("orange", nrow(mtcars)),
yr.point.size = 4,
# order the rows by mpg
order.rows = order(mtcars$cyl),
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 14
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a scatter smoothed plot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "scattersmooth",
# change the line color
yr.line.col = "tomato3",
yr.obs.col = rep("orange", nrow(mtcars)),
# order the rows by mpg
order.rows = order(mtcars$cyl),
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 15
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a barplot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "bar",
# change the label size
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 16
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a barplot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "bar",
# set bar colors
yr.bar.col = "black",
yr.obs.col = rep("beige", nrow(mtcars)),
# change the label size
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 17
library(dplyr)
mpg.per.cluster <- mtcars %>%
group_by(gear) %>%
summarize(mpg.avg = mean(mpg)) %>%
select(mpg.avg) %>%
unlist
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg, -gear),
# scale the variables/columns
scale = T,
# cluster the rows
membership.rows = paste(mtcars$gear, "gears"),
left.label = "variable",
# add mpg per cluster as a barplot
yr = mpg.per.cluster,
yr.axis.name = "miles per gallon",
yr.plot.type = "bar",
# set bar colors
yr.bar.col = "black",
yr.cluster.col = c("beige", "white", "beige"),
# change the label size
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 18
library(dplyr)
mpg.per.cluster <- mtcars %>%
group_by(gear) %>%
summarize(mpg.avg = mean(mpg)) %>%
select(mpg.avg) %>%
unlist
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg, -gear),
# scale the variables/columns
scale = T,
# cluster the rows
membership.rows = paste(mtcars$gear, "gears"),
left.label = "variable",
# add mpg per cluster as a boxplot
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "boxplot",
# change the label size
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 19
library(dplyr)
mpg.per.cluster <- mtcars %>%
group_by(gear) %>%
summarize(mpg.avg = mean(mpg)) %>%
select(mpg.avg) %>%
unlist
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg, -gear),
# scale the variables/columns
scale = T,
# cluster the rows
membership.rows = paste(mtcars$gear, "gears"),
left.label = "variable",
# add mpg per cluster as a boxplot
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.plot.type = "boxplot",
yr.cluster.col = c("beige", "slategray1", "beige"),
# change the label size
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 20
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a scatterplot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
# add correlation between each variable and miles per gallon
yt = cor(mtcars)[-1,"mpg"],
yt.plot.type = "bar",
yt.axis.name = "Correlation\nwith mpg",
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 21
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a scatterplot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
# add correlation between each variable and miles per gallon
yt = cor(mtcars)[-1,"mpg"],
yt.plot.type = "bar",
yt.axis.name = "Correlation\nwith mpg",
yt.axis.size = 14,
yt.axis.name.size = 14,
left.label.size = 0.5,
bottom.label.size = 0.1)
# Chunk 22
# plot a super heatmap
superheat(dplyr::select(mtcars, -mpg),
# scale the variables/columns
scale = T,
# add mpg as a scatterplot next to the rows
yr = mtcars$mpg,
yr.axis.name = "miles per gallon",
yr.axis.size = 14,
yr.axis.name.size = 14,
yr.plot.size = 0.8,
# add correlation between each variable and miles per gallon
yt = cor(mtcars)[-1,"mpg"],
yt.plot.type = "bar",
yt.axis.name = "Correlation with mpg",
yt.axis.size = 14,
yt.axis.name.size = 14,
yt.plot.size = 0.7,
left.label.size = 0.5,
bottom.label.size = 0.1)
devtools::build()
sessionInfo()
devtools::use_travis()
devtools::build_win()
devtools::build_win()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::document()
devtools::check()
devtools::build()
devtools::release()
update.packages()
devtools::release()
devtools::release()
devtools::release()
devtools::release()
devtools::release()
devtools::release()
install.packages("superheat")
install.packages("superheat")
install.packages("superheat")
?superheat
library(superheat)
?superheat
library(DT)
?datatable
setwd("~/Google Drive/Berkeley PhD/Book/bookdown")
library(knitr)
library(dplyr)
library(reshape2)
organs.original <- read.csv("Data/global-organ-donation.csv")
DT::datatable(filter(organs.original,
COUNTRY == "United States of America"),
fillContainer = T,
options = list(scrollY = 350))
knitr::kable(filter(organs.original,
COUNTRY == "United States of America"),
fillContainer = T,
options = list(scrollY = 350))
DT::datatable(filter(organs.original,
COUNTRY == "United States of America"),
fillContainer = T,
options = list(scrollY = 450))
bookdown::render_book("index.Rmd", bookdown::gitbook(split_by = 'section+number'))
bookdown::render_book("index.Rmd", bookdown::gitbook(split_by = 'section+number'))
install.packages("superheat")
install.packages("superheat")
library(superheat)
superheat(iris[,-5],
membership.rows = iris$Species)
superheat(iris[,-5],
membership.rows = iris$Species,
yr = iris$Sepal.Length,
bottom.label.size = 0.1,
bottom.label.col = "white")
superheat(iris[,1:3],
membership.rows = iris$Species,
yr = iris$Sepal.Width,
bottom.label.size = 0.1,
bottom.label.col = "white")
superheat(iris[,1:3],
membership.rows = iris$Species,
# right plot
yr = iris$Sepal.Width,
yr.axis.name = "Sepal Width",
# bottom label
bottom.label.size = 0.1,
bottom.label.col = "white")
superheat(iris[,1:3],
membership.rows = iris$Species,
heat.pal = c("blue", "green"),
# right plot
yr = iris$Sepal.Width,
yr.axis.name = "Sepal Width",
# bottom label
bottom.label.size = 0.1,
bottom.label.col = "white")
superheat(iris[,1:3],
membership.rows = iris$Species,
heat.pal = RColorBrewer::brewer.pal("PuBuGn", 5),
# right plot
yr = iris$Sepal.Width,
yr.axis.name = "Sepal Width",
# bottom label
bottom.label.size = 0.1,
bottom.label.col = "white")
superheat(iris[,1:3],
membership.rows = iris$Species,
heat.pal = RColorBrewer::brewer.pal(5, "PuBuGn"),
# right plot
yr = iris$Sepal.Width,
yr.axis.name = "Sepal Width",
# bottom label
bottom.label.size = 0.1,
bottom.label.col = "white")
superheat(iris[,1:3],
membership.rows = iris$Species,
# color palette
heat.pal = RColorBrewer::brewer.pal(5, "GnBu"),
# right plot
yr = iris$Sepal.Width,
yr.axis.name = "Sepal Width",
# bottom label
bottom.label.size = 0.1,
bottom.label.col = "white")
superheat(iris[,1:3],
membership.rows = iris$Species,
# color palette
heat.pal = RColorBrewer::brewer.pal(5, "BuPu"),
# right plot
yr = iris$Sepal.Width,
yr.axis.name = "Sepal Width",
# bottom label
bottom.label.size = 0.1,
bottom.label.col = "white")
library(superheat)
set.seed(1347983)
selected.rows <- sample(1:nrow(mtcars), 10)
X.col <- matrix("black", ncol = ncol(mtcars), nrow = 10)
X.col[scale(mtcars[selected.rows, ]) < 0] <- "white"
superheat(mtcars[selected.rows,],
# add text
X.text = round(as.matrix(mtcars[selected.rows, ])),
X.text.col = X.col,
# scale columns
scale = T,
# label aesthetics
left.label.size = 0.5,
bottom.label.size = 0.15,
bottom.label.text.angle = 90,
bottom.label.text.alignment = "right",
bottom.label.col = "white",
# dendrogram
row.dendrogram = T,
# top plot
yt = sapply(mtcars, function(x) cor(x, mtcars$hp)),
yt.plot.type = "bar",
yt.axis.name = "correlation\nwith\nhorsepower",
# column order
order.cols = order(sapply(mtcars, function(x) cor(x, mtcars$hp))),
# grid lines
grid.vline.col = "white",
grid.hline.col = "white")
colnames(mtcars) <- paste0(colnames(mtcars), " ")
superheat(mtcars[selected.rows,],
# scale columns
scale = T,
# label aesthetics
left.label.size = 0.5,
bottom.label.size = 0.15,
bottom.label.text.angle = 90,
bottom.label.text.alignment = "right",
bottom.label.col = "white",
# dendrogram
row.dendrogram = T,
# top plot
yt = sapply(mtcars, function(x) cor(x, mtcars$hp)),
yt.plot.type = "bar",
yt.axis.name = "correlation\nwith\nhorsepower",
# column order
order.cols = order(sapply(mtcars, function(x) cor(x, mtcars$hp))),
# grid lines
grid.vline.col = "white",
grid.hline.col = "white")
setwd("~/Google Drive/Personal webpage/rlbarter.github.io/content/blog")
blogdown::serve_site()
setwd("~/Google Drive/Personal webpage/rlbarter.github.io")
blogdown::serve_site()
blogdown::serve_site()
superheat(mtcars[selected.rows,],
# scale columns
scale = T,
# label aesthetics
left.label.size = 0.5,
bottom.label.size = 0.15,
bottom.label.text.angle = 90,
bottom.label.text.alignment = "right",
bottom.label.col = "white",
# dendrogram
row.dendrogram = T,
# top plot
yt = sapply(mtcars, function(x) cor(x, mtcars$hp)),
yt.plot.type = "bar",
yt.axis.name = "correlation\nwith\nhorsepower",
# column order
order.cols = order(sapply(mtcars, function(x) cor(x, mtcars$hp))),
# grid lines
grid.vline.col = "white",
grid.hline.col = "white")
